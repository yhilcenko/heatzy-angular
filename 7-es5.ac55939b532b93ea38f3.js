!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{H7nH:function(n,o,r){"use strict";r.r(o),r.d(o,"SchedulerModule",function(){return X});var i,s=r("ofXK"),a=r("tyNb"),l=r("fXoL"),c=r("N+jK"),d=r("IvIE"),u=a.d.forChild([{path:"",component:(i=function(){function n(t,o){e(this,n),this.route=t,this.service=o,this.calendarOptions={initialView:"dayGridWeek"}}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){var e=this,t=this.route.parent.snapshot.paramMap.get("deviceId");this.service.scheduler(t).subscribe(function(t){console.log(t),e.result=t})}}])&&t(o.prototype,r),i&&t(o,i),n}(),i.\u0275fac=function(e){return new(e||i)(l.Jb(a.a),l.Jb(c.a))},i.\u0275cmp=l.Db({type:i,selectors:[["app-scheduler"]],decls:3,vars:7,consts:[[3,"options"]],template:function(e,t){1&e&&(l.lc(0),l.Yb(1,"date"),l.Kb(2,"full-calendar",0)),2&e&&(l.oc("",l.Zb(1,4,1e3*(null==t.result?null:t.result.updated_at),"dd/MM/yyyy HH:mm:ss")," ",null==t.result?null:t.result.attr.mode,"\n",null==t.result?null:t.result.attr.time_week," "),l.zb(2),l.cc("options",t.calendarOptions))},directives:[d.a],pipes:[s.d],styles:[""]}),i)}]),f=r("1hAE"),p=r("mrSG"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=Object(f.L)(),t}return Object(p.b)(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,o=this.context,r=[],i=Object(f.Q)(o.options);return e&&r.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),r.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Object(f.I)(f.z,{viewSpec:o.viewSpec},function(e,t){return Object(f.I)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(f.I)(f.w,{liquid:!n.isHeightAuto&&!n.forPrint,cols:[],sections:r}))})},t.prototype.renderHScrollLayout=function(e,t,n,o){var r=this.context.pluginHooks.scrollGridImpl;if(!r)throw new Error("No ScrollGrid implementation");var i=this.props,s=this.context,a=!i.forPrint&&Object(f.Q)(s.options),l=!i.forPrint&&Object(f.P)(s.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:f.ab}]}),Object(f.I)(f.z,{viewSpec:s.viewSpec},function(e,t){return Object(f.I)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(f.I)(r,{liquid:!i.isHeightAuto&&!i.forPrint,colGroups:[{cols:[{span:n,minWidth:o}]}],sections:c}))})},t}(f.h);function g(e,t){for(var n=[],o=0;o<t;o+=1)n[o]=[];for(var r=0,i=e;r<i.length;r++){var s=i[r];n[s.row].push(s)}return n}function v(e,t){for(var n=[],o=0;o<t;o+=1)n[o]=[];for(var r=0,i=e;r<i.length;r++){var s=i[r];n[s.firstCol].push(s)}return n}function b(e,t){var n=[];if(e){for(s=0;s<t;s+=1)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var o=0,r=e.segs;o<r.length;o++){var i=r[o];n[i.row].segs.push(i)}}else for(var s=0;s<t;s+=1)n[s]=null;return n}var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context.options.navLinks?{"data-navlink":Object(f.G)(e.date),tabIndex:0}:{};return Object(f.I)(f.j,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:m},function(n,o){return(o||e.forceDayTop)&&Object(f.I)("div",{className:"fc-daygrid-day-top",ref:n},Object(f.I)("a",Object(p.a)({className:"fc-daygrid-day-number"},t),o||Object(f.I)(f.r,null,"\xa0")))})},t}(f.a);function m(e){return e.dayNumberText}var R=Object(f.J)({week:"narrow"}),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,Object(f.bb)(t.props.elRef,e)},t.handleMoreLinkClick=function(e){var n=t.props;if(n.onMoreClick){var o=n.segsByEachCol,r=o.filter(function(e){return n.segIsHidden[e.eventRange.instance.instanceId]});n.onMoreClick({date:n.date,allSegs:o,hiddenSegs:r,moreCnt:n.moreCnt,dayEl:t.rootEl,ev:e})}},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=t.viewApi,r=this.props,i=r.date,s=r.dateProfile,a={num:r.moreCnt,text:r.buildMoreLinkText(r.moreCnt),view:o},l=n.navLinks?{"data-navlink":Object(f.G)(i,"week"),tabIndex:0}:{};return Object(f.I)(f.k,{date:i,dateProfile:s,todayRange:r.todayRange,showDayNumber:r.showDayNumber,extraHookProps:r.extraHookProps,elRef:this.handleRootEl},function(t,o,c,d){return Object(f.I)("td",Object(p.a)({ref:t,className:["fc-daygrid-day"].concat(o,r.extraClassNames||[]).join(" ")},c,r.extraDataAttrs),Object(f.I)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:r.innerElRef},r.showWeekNumber&&Object(f.I)(f.A,{date:i,defaultFormat:R},function(e,t,n,o){return Object(f.I)("a",Object(p.a)({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},l),o)}),!d&&Object(f.I)(y,{date:i,dateProfile:s,showDayNumber:r.showDayNumber,forceDayTop:r.forceDayTop,todayRange:r.todayRange,extraHookProps:r.extraHookProps}),Object(f.I)("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef,style:{paddingBottom:r.fgPaddingBottom}},r.fgContent,Boolean(r.moreCnt)&&Object(f.I)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},Object(f.I)(f.v,{hookProps:a,classNames:n.moreLinkClassNames,content:n.moreLinkContent,defaultContent:j,didMount:n.moreLinkDidMount,willUnmount:n.moreLinkWillUnmount},function(t,n,o,r){return Object(f.I)("a",{ref:t,className:["fc-daygrid-more-link"].concat(n).join(" "),onClick:e.handleMoreLinkClick},r)}))),Object(f.I)("div",{className:"fc-daygrid-day-bg"},r.bgContent)))})},t}(f.h);function j(e){return e.text}O.addPropsEquality({onMoreClick:!0});var E=Object(f.J)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function C(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||E,o=Object(f.H)(e.seg,n,t,!0,e.defaultDisplayEventEnd);return Object(f.I)(f.q,{seg:e.seg,timeText:o,defaultContent:w,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},function(t,n,o,r){return Object(f.I)("a",Object(p.a)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(n).join(" "),ref:t},(i=e.seg.eventRange.def.url)?{href:i}:{}),r);var i})},t}(f.a);function w(e){return Object(f.I)(f.r,null,Object(f.I)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Object(f.I)("div",{className:"fc-event-time"},e.timeText),Object(f.I)("div",{className:"fc-event-title"},e.event.title||Object(f.I)(f.r,null,"\xa0")))}var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.props;return Object(f.I)(f.y,Object(p.a)({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:E,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(f.a);function I(e,t){for(var n=[],o=0,r=e;o<r.length;o++){var i=r[o];i.seg.firstCol===t&&n.push(i.seg)}return n}function x(e,t,n,o,r){for(var i=e.length,s={},a=[],l=0;l<i;l+=1)a.push([]);for(l=0;l<i;l+=1)for(var c=0,d=0,u=n[l];d<u.length;d++){var f=u[d];r(f,c)?p(f):h(f,c,o),f.top!==f.bottom&&(c+=1)}function p(e){var t=e.seg,n=t.eventRange.instance.instanceId;if(!s[n]){s[n]=!0;for(var o=t.firstCol;o<=t.lastCol;o+=1){for(var r=a[o],i=0;i<r.length&&e.top>=r[i].top;)i+=1;r.splice(i,0,e)}}}function h(n,o,r){var i=n.seg,s=i.eventRange.instance.instanceId;if(!t[s]){t[s]=!0;for(var l=i.firstCol;l<=i.lastCol;l+=1)if(e[l]+=1,r&&1===e[l]&&o>0)for(var c=o-1;a[l].length>c;)h(a[l].pop(),a[l].length,!1)}}}var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new f.u,t.frameElRefs=new f.u,t.fgElRefs=new f.u,t.segHarnessRefs=new f.u,t.rootElRef=Object(f.L)(),t.state={framePositions:null,maxContentHeight:null,segHeights:{}},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.state,o=this.context,r=t.cells.length,i=v(t.businessHourSegs,r),s=v(t.bgEventSegs,r),a=v(this.getHighlightSegs(),r),l=v(this.getMirrorSegs(),r),c=function(e,t,n,o,r,i,s,a){for(var l=[],c=[],d={},u={},h={},g={},v={},b=0;b<s;b+=1)l.push([]),c.push(0);for(var y=0,m=t=Object(f.cb)(t,a);y<m.length;y++)k(S=m[y],r[S.eventRange.instance.instanceId+":"+S.firstCol]||0);!0===n||!0===o?function(e,t,n,o){x(e,t,n,!0,function(e){return e.bottom<=o})}(c,d,l,i):"number"==typeof n?function(e,t,n,o){x(e,t,n,!1,function(e,t){return t<o})}(c,d,l,n):"number"==typeof o&&function(e,t,n,o){x(e,t,n,!0,function(e,t){return t<o})}(c,d,l,o);for(var R=0;R<s;R+=1){for(var O=0,j=0,E=0,C=l[R];E<C.length;E++){var S,w=C[E];d[(S=w.seg).eventRange.instance.instanceId]||(u[S.eventRange.instance.instanceId]=w.top,S.firstCol===S.lastCol&&S.isStart&&S.isEnd?(h[S.eventRange.instance.instanceId]=w.top-O,j=0,O=w.bottom):j=w.bottom-O)}j&&(c[R]?g[R]=j:v[R]=j)}function k(e,t){if(!M(e,t,0))for(var n=e.firstCol;n<=e.lastCol;n+=1)for(var o=0,r=l[n];o<r.length;o++)if(M(e,t,r[o].bottom))return}function M(e,t,n){if(function(e,t,n){for(var o=e.firstCol;o<=e.lastCol;o+=1)for(var r=0,i=l[o];r<i.length;r++){var s=i[r];if(n<s.bottom&&n+t>s.top)return!1}return!0}(e,t,n)){for(var o=e.firstCol;o<=e.lastCol;o+=1){for(var r=l[o],i=0;i<r.length&&n>=r[i].top;)i+=1;r.splice(i,0,{seg:e,top:n,bottom:n+t})}return!0}return!1}for(var D in r)r[D]||(d[D.split(":")[0]]=!0);return{segsByFirstCol:l.map(I),segsByEachCol:l.map(function(t,n){return function(e,t,n){for(var o=t,r={start:o,end:Object(f.B)(o,1)},i=[],s=0,a=e;s<a.length;s++){var l=a[s],c=l.eventRange,d=c.range,u=Object(f.T)(d,r);u&&i.push(Object(p.a)(Object(p.a)({},l),{firstCol:n,lastCol:n,eventRange:{def:c.def,ui:Object(p.a)(Object(p.a)({},c.ui),{durationEditable:!1}),instance:c.instance,range:u},isStart:l.isStart&&u.start.valueOf()===d.start.valueOf(),isEnd:l.isEnd&&u.end.valueOf()===d.end.valueOf()}))}return i}(function(e){for(var t=[],n=0,o=e;n<o.length;n++)t.push(o[n].seg);return t}(t),e[n].date,n)}),segIsHidden:d,segTops:u,segMarginTops:h,moreCnts:c,moreTops:g,paddingBottoms:v}}(t.cells,t.fgEventSegs,t.dayMaxEvents,t.dayMaxEventRows,n.segHeights,n.maxContentHeight,r,o.options.eventOrder),d=c.paddingBottoms,u=c.segsByFirstCol,h=c.segsByEachCol,g=c.segIsHidden,b=c.segTops,y=c.segMarginTops,m=c.moreCnts,R=c.moreTops,j=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return Object(f.I)("tr",{ref:this.rootElRef},t.renderIntro&&t.renderIntro(),t.cells.map(function(n,o){var r=e.renderFgSegs(u[o],g,b,y,j,t.todayRange),c=e.renderFgSegs(l[o],{},b,{},{},t.todayRange,Boolean(t.eventDrag),Boolean(t.eventResize),!1);return Object(f.I)(O,{key:n.key,elRef:e.cellElRefs.createRef(n.key),innerElRef:e.frameElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&0===o,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,moreCnt:m[o],buildMoreLinkText:t.buildMoreLinkText,onMoreClick:function(e){t.onMoreClick(Object(p.a)(Object(p.a)({},e),{fromCol:o}))},segIsHidden:g,moreMarginTop:R[o],segsByEachCol:h[o],fgPaddingBottom:d[o],fgContentElRef:e.fgElRefs.createRef(n.key),fgContent:Object(f.I)(f.r,null,Object(f.I)(f.r,null,r),Object(f.I)(f.r,null,c)),bgContent:Object(f.I)(f.r,null,e.renderFillSegs(a[o],"highlight"),e.renderFillSegs(i[o],"non-business"),e.renderFillSegs(s[o],"bg-event"))})}))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!Object(f.V)(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,o,r,i,s,a,l){var c=this.context,d=this.props.eventSelection,u=this.state.framePositions,h=1===this.props.cells.length,g=[];if(u)for(var v=0,b=e;v<b.length;v++){var y=b[v],m=y.eventRange.instance.instanceId,R=s||a||l,O=t[m]||r[m],j=t[m]||R||y.firstCol!==y.lastCol||!y.isStart||!y.isEnd,E=void 0,w=void 0,I=void 0,x=void 0;j?(w=n[m],c.isRtl?(x=0,I=u.lefts[y.lastCol]-u.lefts[y.firstCol]):(I=0,x=u.rights[y.firstCol]-u.rights[y.lastCol])):E=o[m],g.push(Object(f.I)("div",{className:"fc-daygrid-event-harness"+(j?" fc-daygrid-event-harness-abs":""),key:m,ref:R?null:this.segHarnessRefs.createRef(m+":"+y.firstCol),style:{visibility:O?"hidden":"",marginTop:E||"",top:w||"",left:I||"",right:x||""}},C(y)?Object(f.I)(S,Object(p.a)({seg:y,isDragging:s,isSelected:m===d,defaultDisplayEventEnd:h},Object(f.O)(y,i))):Object(f.I)(k,Object(p.a)({seg:y,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:m===d,defaultDisplayEventEnd:h},Object(f.O)(y,i)))))}return g},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,o=this.props.todayRange,r=this.state.framePositions,i=[];if(r)for(var s=0,a=e;s<a.length;s++){var l=a[s],c=n?{right:0,left:r.lefts[l.lastCol]-r.lefts[l.firstCol]}:{left:0,right:r.rights[l.firstCol]-r.rights[l.lastCol]};i.push(Object(f.I)("div",{key:Object(f.F)(l.eventRange),className:"fc-daygrid-bg-harness",style:c},"bg-event"===t?Object(f.I)(f.b,Object(p.a)({seg:l},Object(f.O)(l,o))):Object(f.Z)(t)))}return f.I.apply(void 0,Object(p.c)([f.r,{}],i))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(null!==t.clientWidth){if(e){var o=t.cells.map(function(e){return n.currentMap[e.key]});o.length&&this.setState({framePositions:new f.t(this.rootElRef.current,o,!0,!1)})}var r=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({segHeights:this.computeSegHeights(),maxContentHeight:r?this.computeMaxContentHeight():null})}},t.prototype.computeSegHeights=function(){return Object(f.W)(this.segHarnessRefs.currentMap,function(e){return e.getBoundingClientRect().height})},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.fgElRefs.currentMap[e];return this.cellElRefs.currentMap[e].getBoundingClientRect().bottom-t.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map(function(t){return e[t.key]})},t}(f.h);M.addPropsEquality({onMoreClick:!0}),M.addStateEquality({segHeights:f.V});var D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repositioner=new f.o(t.updateSize.bind(t)),t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Object(f.bb)(t.props.elRef,e)},t.handleDocumentMousedown=function(e){var n=t.props.onClose;n&&!t.rootEl.contains(e.target)&&n()},t.handleDocumentScroll=function(){t.repositioner.request(10)},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.context.theme,t=this.props,n=["fc-popover",e.getClass("popover")].concat(t.extraClassNames||[]);return Object(f.I)("div",Object(p.a)({className:n.join(" ")},t.extraAttrs,{ref:this.handleRootEl}),Object(f.I)("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Object(f.I)("span",{className:"fc-popover-title"},t.title),Object(f.I)("span",{className:"fc-popover-close "+e.getIconClass("close"),onClick:this.handleCloseClick})),Object(f.I)("div",{className:"fc-popover-body "+e.getClass("popoverContent")},t.children))},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("scroll",this.handleDocumentScroll),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("scroll",this.handleDocumentScroll)},t.prototype.updateSize=function(){var e=this.props,t=e.alignmentEl,n=e.topAlignmentEl,o=this.rootEl;if(o){var r,i=o.getBoundingClientRect(),s=t.getBoundingClientRect(),a=n?n.getBoundingClientRect().top:s.top;a=Math.min(a,window.innerHeight-i.height-10),a=Math.max(a,10),r=this.context.isRtl?s.right-i.width:s.left,r=Math.min(r,window.innerWidth-i.width-10),r=Math.max(r,10),Object(f.D)(o,{top:a,left:r})}},t}(f.a),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(f.L)(),t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.date,o=t.hiddenInstances,r=t.todayRange,i=t.dateProfile,s=t.selectedInstanceId,a=e.dateEnv.format(n,e.options.dayPopoverFormat);return Object(f.I)(f.k,{date:n,dateProfile:i,todayRange:r,elRef:this.rootElRef},function(e,l,c){return Object(f.I)(D,{elRef:e,title:a,extraClassNames:["fc-more-popover"].concat(l),extraAttrs:c,onClose:t.onCloseClick,alignmentEl:t.alignmentEl,topAlignmentEl:t.topAlignmentEl},Object(f.I)(f.j,{date:n,dateProfile:i,todayRange:r},function(e,t){return t&&Object(f.I)("div",{className:"fc-more-popover-misc",ref:e},t)}),t.segs.map(function(e){var t=e.eventRange.instance.instanceId;return Object(f.I)("div",{className:"fc-daygrid-event-harness",key:t,style:{visibility:o[t]?"hidden":""}},C(e)?Object(f.I)(S,Object(p.a)({seg:e,isDragging:!1,isSelected:t===s,defaultDisplayEventEnd:!1},Object(f.O)(e,r))):Object(f.I)(k,Object(p.a)({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===s,defaultDisplayEventEnd:!1},Object(f.O)(e,r))))}))})},t.prototype.positionToHit=function(e,t,n){var o=this.rootElRef.current;if(!n||!o)return null;var r=n.getBoundingClientRect(),i=o.getBoundingClientRect(),s=i.left-r.left,a=i.top-r.top,l=e-s,c=t-a,d=this.props.date;return l>=0&&l<i.width&&c>=0&&c<i.height?{dateSpan:{allDay:!0,range:{start:d,end:Object(f.B)(d,1)}},dayEl:o,relativeRect:{left:s,top:a,right:i.width,bottom:i.height},layer:1}:null},t}(f.h),H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=Object(f.X)(g),t.splitBgEventSegs=Object(f.X)(g),t.splitFgEventSegs=Object(f.X)(g),t.splitDateSelectionSegs=Object(f.X)(g),t.splitEventDrag=Object(f.X)(b),t.splitEventResize=Object(f.X)(b),t.buildBuildMoreLinkText=Object(f.X)(N),t.morePopoverRef=Object(f.L)(),t.rowRefs=new f.u,t.state={morePopoverState:null},t.handleRootEl=function(e){t.rootEl=e,Object(f.bb)(t.props.elRef,e)},t.handleMoreLinkClick=function(e){var n=t.context,o=n.dateEnv,r=n.options.moreLinkClick;function i(e){var t=e.eventRange,r=t.range;return{event:new f.p(n,t.def,t.instance),start:o.toDate(r.start),end:o.toDate(r.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof r&&(r=r({date:o.toDate(e.date),allDay:!0,allSegs:e.allSegs.map(i),hiddenSegs:e.hiddenSegs.map(i),jsEvent:e.ev,view:n.viewApi})),r&&"popover"!==r?"string"==typeof r&&n.calendarApi.zoomTo(e.date,r):t.setState({morePopoverState:Object(p.a)(Object(p.a)({},e),{currentFgEventSegs:t.props.fgEventSegs,fromRow:e.fromRow,fromCol:e.fromCol})})},t.handleMorePopoverClose=function(){t.setState({morePopoverState:null})},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,o=t.dayMaxEventRows,r=t.dayMaxEvents,i=t.expandRows,s=this.state.morePopoverState,a=t.cells.length,l=this.splitBusinessHourSegs(t.businessHourSegs,a),c=this.splitBgEventSegs(t.bgEventSegs,a),d=this.splitFgEventSegs(t.fgEventSegs,a),u=this.splitDateSelectionSegs(t.dateSelectionSegs,a),h=this.splitEventDrag(t.eventDrag,a),g=this.splitEventResize(t.eventResize,a),v=this.buildBuildMoreLinkText(this.context.options.moreLinkText),b=!0===r||!0===o;b&&!i&&(b=!1,o=null,r=null);var y=["fc-daygrid-body",b?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return Object(f.I)("div",{className:y.join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(f.I)(f.s,{unit:"day"},function(b,y){return Object(f.I)(f.r,null,Object(f.I)("table",{className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:i?t.clientHeight:""}},t.colGroupNode,Object(f.I)("tbody",null,t.cells.map(function(i,s){return Object(f.I)(M,{ref:e.rowRefs.createRef(s),key:i.length?i[0].date.toISOString():s,showDayNumbers:a>1,showWeekNumbers:t.showWeekNumbers,todayRange:y,dateProfile:n,cells:i,renderIntro:t.renderRowIntro,businessHourSegs:l[s],eventSelection:t.eventSelection,bgEventSegs:c[s].filter(T),fgEventSegs:d[s],dateSelectionSegs:u[s],eventDrag:h[s],eventResize:g[s],dayMaxEvents:r,dayMaxEventRows:o,clientWidth:t.clientWidth,clientHeight:t.clientHeight,buildMoreLinkText:v,onMoreClick:function(t){e.handleMoreLinkClick(Object(p.a)(Object(p.a)({},t),{fromRow:s}))}})}))),!t.forPrint&&s&&s.currentFgEventSegs===t.fgEventSegs&&Object(f.I)(P,{ref:e.morePopoverRef,date:s.date,dateProfile:n,segs:s.allSegs,alignmentEl:s.dayEl,topAlignmentEl:1===a?t.headerAlignElRef.current:null,onCloseClick:e.handleMorePopoverClose,selectedInstanceId:t.eventSelection,hiddenInstances:(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{},todayRange:y}))}))},t.prototype.prepareHits=function(){this.rowPositions=new f.t(this.rootEl,this.rowRefs.collect().map(function(e){return e.getCellEls()[0]}),!1,!0),this.colPositions=new f.t(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.positionToHit=function(e,t){var n=this.morePopoverRef.current,o=n?n.positionToHit(e,t,this.rootEl):null,r=this.state.morePopoverState;if(o)return Object(p.a)({row:r.fromRow,col:r.fromCol},o);var i=this.colPositions,s=this.rowPositions,a=i.leftToIndex(e),l=s.topToIndex(t);return null!=l&&null!=a?{row:l,col:a,dateSpan:{range:this.getCellRange(l,a),allDay:!0},dayEl:this.getCellEl(l,a),relativeRect:{left:i.lefts[a],right:i.rights[a],top:s.tops[l],bottom:s.bottoms[l]}}:null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:Object(f.B)(n,1)}},t}(f.h);function N(e){return"function"==typeof e?e:function(t){return"+"+t+" "+e}}function T(e){return e.eventRange.def.allDay}var L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return Object(p.b)(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(f.x),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new L,t.tableRef=Object(f.L)(),t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return Object(f.I)(H,Object(p.a)({ref:this.tableRef,elRef:this.handleRootEl},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t.prototype.prepareHits=function(){this.tableRef.current.prepareHits()},t.prototype.queryHit=function(e,t){var n=this.tableRef.current.positionToHit(e,t);return n?{component:this,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}:null},t}(f.h),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=Object(f.X)(z),t.headerRef=Object(f.L)(),t.tableRef=Object(f.L)(),t}return Object(p.b)(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,o=this.props,r=this.buildDayTableModel(o.dateProfile,t.dateProfileGenerator),i=n.dayHeaders&&Object(f.I)(f.l,{ref:this.headerRef,dateProfile:o.dateProfile,dates:r.headerDates,datesRepDistinctDays:1===r.rowCnt}),s=function(t){return Object(f.I)(W,{ref:e.tableRef,dateProfile:o.dateProfile,dayTableModel:r,businessHours:o.businessHours,dateSelection:o.dateSelection,eventStore:o.eventStore,eventUiBases:o.eventUiBases,eventSelection:o.eventSelection,eventDrag:o.eventDrag,eventResize:o.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!o.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:o.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(i,s,r.colCnt,n.dayMinWidth):this.renderSimpleLayout(i,s)},t}(h);function z(e,t){var n=new f.m(e.renderRange,t);return new f.n(n,/year|month|week/.test(e.currentRangeUnit))}var G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(p.b)(t,e),t.prototype.buildRenderRange=function(t,n,o){var r,i=this.props.dateEnv,s=e.prototype.buildRenderRange.call(this,t,n,o),a=s.start,l=s.end;if(/^(year|month)$/.test(n)&&(a=i.startOfWeek(a),(r=i.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=Object(f.C)(r,1))),this.props.monthMode&&this.props.fixedWeekCount){var c=Math.ceil(Object(f.M)(a,l));l=Object(f.C)(l,6-c)}return{start:a,end:l}},t}(f.i),A={moreLinkClick:f.S,moreLinkClassNames:f.S,moreLinkContent:f.S,moreLinkDidMount:f.S,moreLinkWillUnmount:f.S},F=Object(f.K)({initialView:"dayGridMonth",optionRefiners:A,views:{dayGrid:{component:B,dateProfileGeneratorClass:G},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});d.b.registerPlugins([F]);var q,X=((q=function t(){e(this,t)}).\u0275mod=l.Hb({type:q}),q.\u0275inj=l.Gb({factory:function(e){return new(e||q)},imports:[[s.b,u,d.b]]}),q)}}])}();
//# sourceMappingURL=7-es5.ac55939b532b93ea38f3.js.map