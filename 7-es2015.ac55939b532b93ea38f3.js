(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{H7nH:function(e,t,n){"use strict";n.r(t),n.d(t,"SchedulerModule",function(){return G});var r=n("ofXK"),o=n("tyNb"),i=n("fXoL"),s=n("N+jK"),a=n("IvIE");const l=o.d.forChild([{path:"",component:(()=>{class e{constructor(e,t){this.route=e,this.service=t,this.calendarOptions={initialView:"dayGridWeek"}}ngOnInit(){const e=this.route.parent.snapshot.paramMap.get("deviceId");this.service.scheduler(e).subscribe(e=>{console.log(e),this.result=e})}}return e.\u0275fac=function(t){return new(t||e)(i.Jb(o.a),i.Jb(s.a))},e.\u0275cmp=i.Db({type:e,selectors:[["app-scheduler"]],decls:3,vars:7,consts:[[3,"options"]],template:function(e,t){1&e&&(i.lc(0),i.Yb(1,"date"),i.Kb(2,"full-calendar",0)),2&e&&(i.oc("",i.Zb(1,4,1e3*(null==t.result?null:t.result.updated_at),"dd/MM/yyyy HH:mm:ss")," ",null==t.result?null:t.result.attr.mode,"\n",null==t.result?null:t.result.attr.time_week," "),i.zb(2),i.cc("options",t.calendarOptions))},directives:[a.a],pipes:[r.d],styles:[""]}),e})()}]);var c=n("1hAE"),d=n("mrSG"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.headerElRef=Object(c.L)(),t}return Object(d.b)(t,e),t.prototype.renderSimpleLayout=function(e,t){var n=this.props,r=this.context,o=[],i=Object(c.Q)(r.options);return e&&o.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),Object(c.I)(c.z,{viewSpec:r.viewSpec},function(e,t){return Object(c.I)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(c.I)(c.w,{liquid:!n.isHeightAuto&&!n.forPrint,cols:[],sections:o}))})},t.prototype.renderHScrollLayout=function(e,t,n,r){var o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");var i=this.props,s=this.context,a=!i.forPrint&&Object(c.Q)(s.options),l=!i.forPrint&&Object(c.P)(s.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),l&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:c.ab}]}),Object(c.I)(c.z,{viewSpec:s.viewSpec},function(e,t){return Object(c.I)("div",{ref:e,className:["fc-daygrid"].concat(t).join(" ")},Object(c.I)(o,{liquid:!i.isHeightAuto&&!i.forPrint,colGroups:[{cols:[{span:n,minWidth:r}]}],sections:d}))})},t}(c.h);function f(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var o=0,i=e;o<i.length;o++){var s=i[o];n[s.row].push(s)}return n}function p(e,t){for(var n=[],r=0;r<t;r+=1)n[r]=[];for(var o=0,i=e;o<i.length;o++){var s=i[o];n[s.firstCol].push(s)}return n}function h(e,t){var n=[];if(e){for(s=0;s<t;s+=1)n[s]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(var r=0,o=e.segs;r<o.length;r++){var i=o[r];n[i.row].segs.push(i)}}else for(var s=0;s<t;s+=1)n[s]=null;return n}var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context.options.navLinks?{"data-navlink":Object(c.G)(e.date),tabIndex:0}:{};return Object(c.I)(c.j,{date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,extraHookProps:e.extraHookProps,defaultContent:v},function(n,r){return(r||e.forceDayTop)&&Object(c.I)("div",{className:"fc-daygrid-day-top",ref:n},Object(c.I)("a",Object(d.a)({className:"fc-daygrid-day-number"},t),r||Object(c.I)(c.r,null,"\xa0")))})},t}(c.a);function v(e){return e.dayNumberText}var b=Object(c.J)({week:"narrow"}),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleRootEl=function(e){t.rootEl=e,Object(c.bb)(t.props.elRef,e)},t.handleMoreLinkClick=function(e){var n=t.props;if(n.onMoreClick){var r=n.segsByEachCol,o=r.filter(function(e){return n.segIsHidden[e.eventRange.instance.instanceId]});n.onMoreClick({date:n.date,allSegs:r,hiddenSegs:o,moreCnt:n.moreCnt,dayEl:t.rootEl,ev:e})}},t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=t.viewApi,o=this.props,i=o.date,s=o.dateProfile,a={num:o.moreCnt,text:o.buildMoreLinkText(o.moreCnt),view:r},l=n.navLinks?{"data-navlink":Object(c.G)(i,"week"),tabIndex:0}:{};return Object(c.I)(c.k,{date:i,dateProfile:s,todayRange:o.todayRange,showDayNumber:o.showDayNumber,extraHookProps:o.extraHookProps,elRef:this.handleRootEl},function(t,r,u,f){return Object(c.I)("td",Object(d.a)({ref:t,className:["fc-daygrid-day"].concat(r,o.extraClassNames||[]).join(" ")},u,o.extraDataAttrs),Object(c.I)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:o.innerElRef},o.showWeekNumber&&Object(c.I)(c.A,{date:i,defaultFormat:b},function(e,t,n,r){return Object(c.I)("a",Object(d.a)({ref:e,className:["fc-daygrid-week-number"].concat(t).join(" ")},l),r)}),!f&&Object(c.I)(g,{date:i,dateProfile:s,showDayNumber:o.showDayNumber,forceDayTop:o.forceDayTop,todayRange:o.todayRange,extraHookProps:o.extraHookProps}),Object(c.I)("div",{className:"fc-daygrid-day-events",ref:o.fgContentElRef,style:{paddingBottom:o.fgPaddingBottom}},o.fgContent,Boolean(o.moreCnt)&&Object(c.I)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:o.moreMarginTop}},Object(c.I)(c.v,{hookProps:a,classNames:n.moreLinkClassNames,content:n.moreLinkContent,defaultContent:m,didMount:n.moreLinkDidMount,willUnmount:n.moreLinkWillUnmount},function(t,n,r,o){return Object(c.I)("a",{ref:t,className:["fc-daygrid-more-link"].concat(n).join(" "),onClick:e.handleMoreLinkClick},o)}))),Object(c.I)("div",{className:"fc-daygrid-day-bg"},o.bgContent)))})},t}(c.h);function m(e){return e.text}y.addPropsEquality({onMoreClick:!0});var R=Object(c.J)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function O(e){var t=e.eventRange.ui.display;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context,n=t.options.eventTimeFormat||R,r=Object(c.H)(e.seg,n,t,!0,e.defaultDisplayEventEnd);return Object(c.I)(c.q,{seg:e.seg,timeText:r,defaultContent:E,isDragging:e.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:e.isSelected,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday},function(t,n,r,o){return Object(c.I)("a",Object(d.a)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(n).join(" "),ref:t},(i=e.seg.eventRange.def.url)?{href:i}:{}),o);var i})},t}(c.a);function E(e){return Object(c.I)(c.r,null,Object(c.I)("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&Object(c.I)("div",{className:"fc-event-time"},e.timeText),Object(c.I)("div",{className:"fc-event-title"},e.event.title||Object(c.I)(c.r,null,"\xa0")))}var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.b)(t,e),t.prototype.render=function(){var e=this.props;return Object(c.I)(c.y,Object(d.a)({},e,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:R,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))},t}(c.a);function S(e,t){for(var n=[],r=0,o=e;r<o.length;r++){var i=o[r];i.seg.firstCol===t&&n.push(i.seg)}return n}function k(e,t,n,r,o){for(var i=e.length,s={},a=[],l=0;l<i;l+=1)a.push([]);for(l=0;l<i;l+=1)for(var c=0,d=0,u=n[l];d<u.length;d++){var f=u[d];o(f,c)?p(f):h(f,c,r),f.top!==f.bottom&&(c+=1)}function p(e){var t=e.seg,n=t.eventRange.instance.instanceId;if(!s[n]){s[n]=!0;for(var r=t.firstCol;r<=t.lastCol;r+=1){for(var o=a[r],i=0;i<o.length&&e.top>=o[i].top;)i+=1;o.splice(i,0,e)}}}function h(n,r,o){var i=n.seg,s=i.eventRange.instance.instanceId;if(!t[s]){t[s]=!0;for(var l=i.firstCol;l<=i.lastCol;l+=1)if(e[l]+=1,o&&1===e[l]&&r>0)for(var c=r-1;a[l].length>c;)h(a[l].pop(),a[l].length,!1)}}}var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellElRefs=new c.u,t.frameElRefs=new c.u,t.fgElRefs=new c.u,t.segHarnessRefs=new c.u,t.rootElRef=Object(c.L)(),t.state={framePositions:null,maxContentHeight:null,segHeights:{}},t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=this.state,r=this.context,o=t.cells.length,i=p(t.businessHourSegs,o),s=p(t.bgEventSegs,o),a=p(this.getHighlightSegs(),o),l=p(this.getMirrorSegs(),o),u=function(e,t,n,r,o,i,s,a){for(var l=[],u=[],f={},p={},h={},g={},v={},b=0;b<s;b+=1)l.push([]),u.push(0);for(var y=0,m=t=Object(c.cb)(t,a);y<m.length;y++)x(w=m[y],o[w.eventRange.instance.instanceId+":"+w.firstCol]||0);!0===n||!0===r?function(e,t,n,r){k(e,t,n,!0,function(e){return e.bottom<=r})}(u,f,l,i):"number"==typeof n?function(e,t,n,r){k(e,t,n,!1,function(e,t){return t<r})}(u,f,l,n):"number"==typeof r&&function(e,t,n,r){k(e,t,n,!0,function(e,t){return t<r})}(u,f,l,r);for(var R=0;R<s;R+=1){for(var O=0,j=0,E=0,C=l[R];E<C.length;E++){var w,I=C[E];f[(w=I.seg).eventRange.instance.instanceId]||(p[w.eventRange.instance.instanceId]=I.top,w.firstCol===w.lastCol&&w.isStart&&w.isEnd?(h[w.eventRange.instance.instanceId]=I.top-O,j=0,O=I.bottom):j=I.bottom-O)}j&&(u[R]?g[R]=j:v[R]=j)}function x(e,t){if(!M(e,t,0))for(var n=e.firstCol;n<=e.lastCol;n+=1)for(var r=0,o=l[n];r<o.length;r++)if(M(e,t,o[r].bottom))return}function M(e,t,n){if(function(e,t,n){for(var r=e.firstCol;r<=e.lastCol;r+=1)for(var o=0,i=l[r];o<i.length;o++){var s=i[o];if(n<s.bottom&&n+t>s.top)return!1}return!0}(e,t,n)){for(var r=e.firstCol;r<=e.lastCol;r+=1){for(var o=l[r],i=0;i<o.length&&n>=o[i].top;)i+=1;o.splice(i,0,{seg:e,top:n,bottom:n+t})}return!0}return!1}for(var D in o)o[D]||(f[D.split(":")[0]]=!0);return{segsByFirstCol:l.map(S),segsByEachCol:l.map(function(t,n){return function(e,t,n){for(var r=t,o={start:r,end:Object(c.B)(r,1)},i=[],s=0,a=e;s<a.length;s++){var l=a[s],u=l.eventRange,f=u.range,p=Object(c.T)(f,o);p&&i.push(Object(d.a)(Object(d.a)({},l),{firstCol:n,lastCol:n,eventRange:{def:u.def,ui:Object(d.a)(Object(d.a)({},u.ui),{durationEditable:!1}),instance:u.instance,range:p},isStart:l.isStart&&p.start.valueOf()===f.start.valueOf(),isEnd:l.isEnd&&p.end.valueOf()===f.end.valueOf()}))}return i}(function(e){for(var t=[],n=0,r=e;n<r.length;n++)t.push(r[n].seg);return t}(t),e[n].date,n)}),segIsHidden:f,segTops:p,segMarginTops:h,moreCnts:u,moreTops:g,paddingBottoms:v}}(t.cells,t.fgEventSegs,t.dayMaxEvents,t.dayMaxEventRows,n.segHeights,n.maxContentHeight,o,r.options.eventOrder),f=u.paddingBottoms,h=u.segsByFirstCol,g=u.segsByEachCol,v=u.segIsHidden,b=u.segTops,m=u.segMarginTops,R=u.moreCnts,O=u.moreTops,j=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return Object(c.I)("tr",{ref:this.rootElRef},t.renderIntro&&t.renderIntro(),t.cells.map(function(n,r){var o=e.renderFgSegs(h[r],v,b,m,j,t.todayRange),u=e.renderFgSegs(l[r],{},b,{},{},t.todayRange,Boolean(t.eventDrag),Boolean(t.eventResize),!1);return Object(c.I)(y,{key:n.key,elRef:e.cellElRefs.createRef(n.key),innerElRef:e.frameElRefs.createRef(n.key),dateProfile:t.dateProfile,date:n.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&0===r,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,extraHookProps:n.extraHookProps,extraDataAttrs:n.extraDataAttrs,extraClassNames:n.extraClassNames,moreCnt:R[r],buildMoreLinkText:t.buildMoreLinkText,onMoreClick:function(e){t.onMoreClick(Object(d.a)(Object(d.a)({},e),{fromCol:r}))},segIsHidden:v,moreMarginTop:O[r],segsByEachCol:g[r],fgPaddingBottom:f[r],fgContentElRef:e.fgElRefs.createRef(n.key),fgContent:Object(c.I)(c.r,null,Object(c.I)(c.r,null,o),Object(c.I)(c.r,null,u)),bgContent:Object(c.I)(c.r,null,e.renderFillSegs(a[r],"highlight"),e.renderFillSegs(i[r],"non-business"),e.renderFillSegs(s[r],"bg-event"))})}))},t.prototype.componentDidMount=function(){this.updateSizing(!0)},t.prototype.componentDidUpdate=function(e,t){var n=this.props;this.updateSizing(!Object(c.V)(e,n))},t.prototype.getHighlightSegs=function(){var e=this.props;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs},t.prototype.getMirrorSegs=function(){var e=this.props;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]},t.prototype.renderFgSegs=function(e,t,n,r,o,i,s,a,l){var u=this.context,f=this.props.eventSelection,p=this.state.framePositions,h=1===this.props.cells.length,g=[];if(p)for(var v=0,b=e;v<b.length;v++){var y=b[v],m=y.eventRange.instance.instanceId,R=s||a||l,E=t[m]||o[m],S=t[m]||R||y.firstCol!==y.lastCol||!y.isStart||!y.isEnd,k=void 0,w=void 0,I=void 0,x=void 0;S?(w=n[m],u.isRtl?(x=0,I=p.lefts[y.lastCol]-p.lefts[y.firstCol]):(I=0,x=p.rights[y.firstCol]-p.rights[y.lastCol])):k=r[m],g.push(Object(c.I)("div",{className:"fc-daygrid-event-harness"+(S?" fc-daygrid-event-harness-abs":""),key:m,ref:R?null:this.segHarnessRefs.createRef(m+":"+y.firstCol),style:{visibility:E?"hidden":"",marginTop:k||"",top:w||"",left:I||"",right:x||""}},O(y)?Object(c.I)(j,Object(d.a)({seg:y,isDragging:s,isSelected:m===f,defaultDisplayEventEnd:h},Object(c.O)(y,i))):Object(c.I)(C,Object(d.a)({seg:y,isDragging:s,isResizing:a,isDateSelecting:l,isSelected:m===f,defaultDisplayEventEnd:h},Object(c.O)(y,i)))))}return g},t.prototype.renderFillSegs=function(e,t){var n=this.context.isRtl,r=this.props.todayRange,o=this.state.framePositions,i=[];if(o)for(var s=0,a=e;s<a.length;s++){var l=a[s],u=n?{right:0,left:o.lefts[l.lastCol]-o.lefts[l.firstCol]}:{left:0,right:o.rights[l.firstCol]-o.rights[l.lastCol]};i.push(Object(c.I)("div",{key:Object(c.F)(l.eventRange),className:"fc-daygrid-bg-harness",style:u},"bg-event"===t?Object(c.I)(c.b,Object(d.a)({seg:l},Object(c.O)(l,r))):Object(c.Z)(t)))}return c.I.apply(void 0,Object(d.c)([c.r,{}],i))},t.prototype.updateSizing=function(e){var t=this.props,n=this.frameElRefs;if(null!==t.clientWidth){if(e){var r=t.cells.map(function(e){return n.currentMap[e.key]});r.length&&this.setState({framePositions:new c.t(this.rootElRef.current,r,!0,!1)})}var o=!0===t.dayMaxEvents||!0===t.dayMaxEventRows;this.setState({segHeights:this.computeSegHeights(),maxContentHeight:o?this.computeMaxContentHeight():null})}},t.prototype.computeSegHeights=function(){return Object(c.W)(this.segHarnessRefs.currentMap,function(e){return e.getBoundingClientRect().height})},t.prototype.computeMaxContentHeight=function(){var e=this.props.cells[0].key,t=this.fgElRefs.currentMap[e];return this.cellElRefs.currentMap[e].getBoundingClientRect().bottom-t.getBoundingClientRect().top},t.prototype.getCellEls=function(){var e=this.cellElRefs.currentMap;return this.props.cells.map(function(t){return e[t.key]})},t}(c.h);w.addPropsEquality({onMoreClick:!0}),w.addStateEquality({segHeights:c.V});var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.repositioner=new c.o(t.updateSize.bind(t)),t.handleRootEl=function(e){t.rootEl=e,t.props.elRef&&Object(c.bb)(t.props.elRef,e)},t.handleDocumentMousedown=function(e){var n=t.props.onClose;n&&!t.rootEl.contains(e.target)&&n()},t.handleDocumentScroll=function(){t.repositioner.request(10)},t.handleCloseClick=function(){var e=t.props.onClose;e&&e()},t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this.context.theme,t=this.props,n=["fc-popover",e.getClass("popover")].concat(t.extraClassNames||[]);return Object(c.I)("div",Object(d.a)({className:n.join(" ")},t.extraAttrs,{ref:this.handleRootEl}),Object(c.I)("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Object(c.I)("span",{className:"fc-popover-title"},t.title),Object(c.I)("span",{className:"fc-popover-close "+e.getIconClass("close"),onClick:this.handleCloseClick})),Object(c.I)("div",{className:"fc-popover-body "+e.getClass("popoverContent")},t.children))},t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("scroll",this.handleDocumentScroll),this.updateSize()},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("scroll",this.handleDocumentScroll)},t.prototype.updateSize=function(){var e=this.props,t=e.alignmentEl,n=e.topAlignmentEl,r=this.rootEl;if(r){var o,i=r.getBoundingClientRect(),s=t.getBoundingClientRect(),a=n?n.getBoundingClientRect().top:s.top;a=Math.min(a,window.innerHeight-i.height-10),a=Math.max(a,10),o=this.context.isRtl?s.right-i.width:s.left,o=Math.min(o,window.innerWidth-i.width-10),o=Math.max(o,10),Object(c.D)(r,{top:a,left:o})}},t}(c.a),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootElRef=Object(c.L)(),t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this.context,t=this.props,n=t.date,r=t.hiddenInstances,o=t.todayRange,i=t.dateProfile,s=t.selectedInstanceId,a=e.dateEnv.format(n,e.options.dayPopoverFormat);return Object(c.I)(c.k,{date:n,dateProfile:i,todayRange:o,elRef:this.rootElRef},function(e,l,u){return Object(c.I)(I,{elRef:e,title:a,extraClassNames:["fc-more-popover"].concat(l),extraAttrs:u,onClose:t.onCloseClick,alignmentEl:t.alignmentEl,topAlignmentEl:t.topAlignmentEl},Object(c.I)(c.j,{date:n,dateProfile:i,todayRange:o},function(e,t){return t&&Object(c.I)("div",{className:"fc-more-popover-misc",ref:e},t)}),t.segs.map(function(e){var t=e.eventRange.instance.instanceId;return Object(c.I)("div",{className:"fc-daygrid-event-harness",key:t,style:{visibility:r[t]?"hidden":""}},O(e)?Object(c.I)(j,Object(d.a)({seg:e,isDragging:!1,isSelected:t===s,defaultDisplayEventEnd:!1},Object(c.O)(e,o))):Object(c.I)(C,Object(d.a)({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:t===s,defaultDisplayEventEnd:!1},Object(c.O)(e,o))))}))})},t.prototype.positionToHit=function(e,t,n){var r=this.rootElRef.current;if(!n||!r)return null;var o=n.getBoundingClientRect(),i=r.getBoundingClientRect(),s=i.left-o.left,a=i.top-o.top,l=e-s,d=t-a,u=this.props.date;return l>=0&&l<i.width&&d>=0&&d<i.height?{dateSpan:{allDay:!0,range:{start:u,end:Object(c.B)(u,1)}},dayEl:r,relativeRect:{left:s,top:a,right:i.width,bottom:i.height},layer:1}:null},t}(c.h),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.splitBusinessHourSegs=Object(c.X)(f),t.splitBgEventSegs=Object(c.X)(f),t.splitFgEventSegs=Object(c.X)(f),t.splitDateSelectionSegs=Object(c.X)(f),t.splitEventDrag=Object(c.X)(h),t.splitEventResize=Object(c.X)(h),t.buildBuildMoreLinkText=Object(c.X)(D),t.morePopoverRef=Object(c.L)(),t.rowRefs=new c.u,t.state={morePopoverState:null},t.handleRootEl=function(e){t.rootEl=e,Object(c.bb)(t.props.elRef,e)},t.handleMoreLinkClick=function(e){var n=t.context,r=n.dateEnv,o=n.options.moreLinkClick;function i(e){var t=e.eventRange,o=t.range;return{event:new c.p(n,t.def,t.instance),start:r.toDate(o.start),end:r.toDate(o.end),isStart:e.isStart,isEnd:e.isEnd}}"function"==typeof o&&(o=o({date:r.toDate(e.date),allDay:!0,allSegs:e.allSegs.map(i),hiddenSegs:e.hiddenSegs.map(i),jsEvent:e.ev,view:n.viewApi})),o&&"popover"!==o?"string"==typeof o&&n.calendarApi.zoomTo(e.date,o):t.setState({morePopoverState:Object(d.a)(Object(d.a)({},e),{currentFgEventSegs:t.props.fgEventSegs,fromRow:e.fromRow,fromCol:e.fromCol})})},t.handleMorePopoverClose=function(){t.setState({morePopoverState:null})},t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.dateProfile,r=t.dayMaxEventRows,o=t.dayMaxEvents,i=t.expandRows,s=this.state.morePopoverState,a=t.cells.length,l=this.splitBusinessHourSegs(t.businessHourSegs,a),u=this.splitBgEventSegs(t.bgEventSegs,a),f=this.splitFgEventSegs(t.fgEventSegs,a),p=this.splitDateSelectionSegs(t.dateSelectionSegs,a),h=this.splitEventDrag(t.eventDrag,a),g=this.splitEventResize(t.eventResize,a),v=this.buildBuildMoreLinkText(this.context.options.moreLinkText),b=!0===o||!0===r;b&&!i&&(b=!1,r=null,o=null);var y=["fc-daygrid-body",b?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return Object(c.I)("div",{className:y.join(" "),ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},Object(c.I)(c.s,{unit:"day"},function(b,y){return Object(c.I)(c.r,null,Object(c.I)("table",{className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:i?t.clientHeight:""}},t.colGroupNode,Object(c.I)("tbody",null,t.cells.map(function(i,s){return Object(c.I)(w,{ref:e.rowRefs.createRef(s),key:i.length?i[0].date.toISOString():s,showDayNumbers:a>1,showWeekNumbers:t.showWeekNumbers,todayRange:y,dateProfile:n,cells:i,renderIntro:t.renderRowIntro,businessHourSegs:l[s],eventSelection:t.eventSelection,bgEventSegs:u[s].filter(P),fgEventSegs:f[s],dateSelectionSegs:p[s],eventDrag:h[s],eventResize:g[s],dayMaxEvents:o,dayMaxEventRows:r,clientWidth:t.clientWidth,clientHeight:t.clientHeight,buildMoreLinkText:v,onMoreClick:function(t){e.handleMoreLinkClick(Object(d.a)(Object(d.a)({},t),{fromRow:s}))}})}))),!t.forPrint&&s&&s.currentFgEventSegs===t.fgEventSegs&&Object(c.I)(x,{ref:e.morePopoverRef,date:s.date,dateProfile:n,segs:s.allSegs,alignmentEl:s.dayEl,topAlignmentEl:1===a?t.headerAlignElRef.current:null,onCloseClick:e.handleMorePopoverClose,selectedInstanceId:t.eventSelection,hiddenInstances:(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{},todayRange:y}))}))},t.prototype.prepareHits=function(){this.rowPositions=new c.t(this.rootEl,this.rowRefs.collect().map(function(e){return e.getCellEls()[0]}),!1,!0),this.colPositions=new c.t(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},t.prototype.positionToHit=function(e,t){var n=this.morePopoverRef.current,r=n?n.positionToHit(e,t,this.rootEl):null,o=this.state.morePopoverState;if(r)return Object(d.a)({row:o.fromRow,col:o.fromCol},r);var i=this.colPositions,s=this.rowPositions,a=i.leftToIndex(e),l=s.topToIndex(t);return null!=l&&null!=a?{row:l,col:a,dateSpan:{range:this.getCellRange(l,a),allDay:!0},dayEl:this.getCellEl(l,a),relativeRect:{left:i.lefts[a],right:i.rights[a],top:s.tops[l],bottom:s.bottoms[l]}}:null},t.prototype.getCellEl=function(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]},t.prototype.getCellRange=function(e,t){var n=this.props.cells[e][t].date;return{start:n,end:Object(c.B)(n,1)}},t}(c.h);function D(e){return"function"==typeof e?e:function(t){return"+"+t+" "+e}}function P(e){return e.eventRange.def.allDay}var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return Object(d.b)(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(c.x),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slicer=new H,t.tableRef=Object(c.L)(),t.handleRootEl=function(e){e?t.context.registerInteractiveComponent(t,{el:e}):t.context.unregisterInteractiveComponent(t)},t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this.props,t=this.context;return Object(c.I)(M,Object(d.a)({ref:this.tableRef,elRef:this.handleRootEl},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))},t.prototype.prepareHits=function(){this.tableRef.current.prepareHits()},t.prototype.queryHit=function(e,t){var n=this.tableRef.current.positionToHit(e,t);return n?{component:this,dateSpan:n.dateSpan,dayEl:n.dayEl,rect:{left:n.relativeRect.left,right:n.relativeRect.right,top:n.relativeRect.top,bottom:n.relativeRect.bottom},layer:0}:null},t}(c.h),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTableModel=Object(c.X)(L),t.headerRef=Object(c.L)(),t.tableRef=Object(c.L)(),t}return Object(d.b)(t,e),t.prototype.render=function(){var e=this,t=this.context,n=t.options,r=this.props,o=this.buildDayTableModel(r.dateProfile,t.dateProfileGenerator),i=n.dayHeaders&&Object(c.I)(c.l,{ref:this.headerRef,dateProfile:r.dateProfile,dates:o.headerDates,datesRepDistinctDays:1===o.rowCnt}),s=function(t){return Object(c.I)(N,{ref:e.tableRef,dateProfile:r.dateProfile,dayTableModel:o,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:n.nextDayThreshold,colGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,dayMaxEvents:n.dayMaxEvents,dayMaxEventRows:n.dayMaxEventRows,showWeekNumbers:n.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:e.headerElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:r.forPrint})};return n.dayMinWidth?this.renderHScrollLayout(i,s,o.colCnt,n.dayMinWidth):this.renderSimpleLayout(i,s)},t}(u);function L(e,t){var n=new c.m(e.renderRange,t);return new c.n(n,/year|month|week/.test(e.currentRangeUnit))}var W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(d.b)(t,e),t.prototype.buildRenderRange=function(t,n,r){var o,i=this.props.dateEnv,s=e.prototype.buildRenderRange.call(this,t,n,r),a=s.start,l=s.end;if(/^(year|month)$/.test(n)&&(a=i.startOfWeek(a),(o=i.startOfWeek(l)).valueOf()!==l.valueOf()&&(l=Object(c.C)(o,1))),this.props.monthMode&&this.props.fixedWeekCount){var d=Math.ceil(Object(c.M)(a,l));l=Object(c.C)(l,6-d)}return{start:a,end:l}},t}(c.i),B={moreLinkClick:c.S,moreLinkClassNames:c.S,moreLinkContent:c.S,moreLinkDidMount:c.S,moreLinkWillUnmount:c.S},z=Object(c.K)({initialView:"dayGridMonth",optionRefiners:B,views:{dayGrid:{component:T,dateProfileGeneratorClass:W},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});a.b.registerPlugins([z]);let G=(()=>{class e{}return e.\u0275mod=i.Hb({type:e}),e.\u0275inj=i.Gb({factory:function(t){return new(t||e)},imports:[[r.b,l,a.b]]}),e})()}}]);
//# sourceMappingURL=7-es2015.ac55939b532b93ea38f3.js.map